{"ast":null,"code":"// frontend/src/components/Chatbot/utils/promptBuilder.js\nexport const buildSystemPrompt = (data, intent) => {\n  const {\n    especialidades,\n    clinicas,\n    horarios\n  } = data;\n  let prompt = `Eres un asistente virtual de Health Connect, un sistema de gestión médica que conecta pacientes con médicos y clínicas.\n  \n  SOBRE HEALTH CONNECT:\n  - Health Connect facilita la programación de citas médicas entre pacientes y médicos de diversas especialidades.\n  - El sistema trabaja con clínicas tanto públicas como privadas.\n  - Los pacientes pueden registrarse para agendar citas médicas.\n  \n  HORARIOS DE ATENCIÓN:\n  ${horarios.general || \"Lunes a Viernes de 8:00 AM a 6:00 PM\"}\n  - Duración promedio de citas: ${horarios.duracionCita || \"40 minutos\"}\n  \n  INSTRUCCIONES:\n  1. Responde amablemente preguntas sobre Health Connect.\n  2. Brinda información sobre especialidades, procesos de reserva de citas y servicios.\n  3. NO proporciones diagnósticos médicos ni tratamientos.\n  4. Mantén un tono profesional pero cálido y empático.`;\n\n  // Agregar especialidades si están disponibles\n  if (especialidades && especialidades.length > 0) {\n    prompt += `\\n\\nESPECIALIDADES DISPONIBLES:\n  ${especialidades.map(e => e.nombre || e).join(', ')}`;\n  }\n\n  // Agregar clínicas si están disponibles\n  if (clinicas && clinicas.length > 0) {\n    prompt += `\\n\\nCLÍNICAS ASOCIADAS:\n  ${clinicas.map(c => `${c.nombre} (${c.tipo || 'N/A'})`).join(', ')}`;\n  }\n\n  // Agregar información sobre la intención detectada\n  if (intent && intent !== 'general_inquiry') {\n    prompt += `\\n\\nINTENCIÓN DETECTADA: El usuario está preguntando sobre ${intent === 'appointment_scheduling' ? 'cómo agendar una cita' : intent === 'doctor_search' ? 'información sobre médicos o especialidades' : intent === 'pricing' ? 'precios o costos de servicios' : intent === 'schedule_inquiry' ? 'horarios disponibles' : intent === 'clinic_info' ? 'información sobre clínicas' : 'información general'}.`;\n  }\n  return prompt;\n};","map":{"version":3,"names":["buildSystemPrompt","data","intent","especialidades","clinicas","horarios","prompt","general","duracionCita","length","map","e","nombre","join","c","tipo"],"sources":["C:/Users/User/Desktop/Q1_2025Carlos/proyecto/frontend/src/utils/promptBuilder.js"],"sourcesContent":["// frontend/src/components/Chatbot/utils/promptBuilder.js\r\nexport const buildSystemPrompt = (data, intent) => {\r\n    const { especialidades, clinicas, horarios } = data;\r\n    \r\n    let prompt = `Eres un asistente virtual de Health Connect, un sistema de gestión médica que conecta pacientes con médicos y clínicas.\r\n  \r\n  SOBRE HEALTH CONNECT:\r\n  - Health Connect facilita la programación de citas médicas entre pacientes y médicos de diversas especialidades.\r\n  - El sistema trabaja con clínicas tanto públicas como privadas.\r\n  - Los pacientes pueden registrarse para agendar citas médicas.\r\n  \r\n  HORARIOS DE ATENCIÓN:\r\n  ${horarios.general || \"Lunes a Viernes de 8:00 AM a 6:00 PM\"}\r\n  - Duración promedio de citas: ${horarios.duracionCita || \"40 minutos\"}\r\n  \r\n  INSTRUCCIONES:\r\n  1. Responde amablemente preguntas sobre Health Connect.\r\n  2. Brinda información sobre especialidades, procesos de reserva de citas y servicios.\r\n  3. NO proporciones diagnósticos médicos ni tratamientos.\r\n  4. Mantén un tono profesional pero cálido y empático.`;\r\n  \r\n    // Agregar especialidades si están disponibles\r\n    if (especialidades && especialidades.length > 0) {\r\n      prompt += `\\n\\nESPECIALIDADES DISPONIBLES:\r\n  ${especialidades.map(e => e.nombre || e).join(', ')}`;\r\n    }\r\n    \r\n    // Agregar clínicas si están disponibles\r\n    if (clinicas && clinicas.length > 0) {\r\n      prompt += `\\n\\nCLÍNICAS ASOCIADAS:\r\n  ${clinicas.map(c => `${c.nombre} (${c.tipo || 'N/A'})`).join(', ')}`;\r\n    }\r\n    \r\n    // Agregar información sobre la intención detectada\r\n    if (intent && intent !== 'general_inquiry') {\r\n      prompt += `\\n\\nINTENCIÓN DETECTADA: El usuario está preguntando sobre ${\r\n        intent === 'appointment_scheduling' ? 'cómo agendar una cita' :\r\n        intent === 'doctor_search' ? 'información sobre médicos o especialidades' :\r\n        intent === 'pricing' ? 'precios o costos de servicios' :\r\n        intent === 'schedule_inquiry' ? 'horarios disponibles' : \r\n        intent === 'clinic_info' ? 'información sobre clínicas' :\r\n        'información general'\r\n      }.`;\r\n    }\r\n    \r\n    return prompt;\r\n  };"],"mappings":"AAAA;AACA,OAAO,MAAMA,iBAAiB,GAAGA,CAACC,IAAI,EAAEC,MAAM,KAAK;EAC/C,MAAM;IAAEC,cAAc;IAAEC,QAAQ;IAAEC;EAAS,CAAC,GAAGJ,IAAI;EAEnD,IAAIK,MAAM,GAAG;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAID,QAAQ,CAACE,OAAO,IAAI,sCAAsC;AAC9D,kCAAkCF,QAAQ,CAACG,YAAY,IAAI,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA,wDAAwD;;EAEpD;EACA,IAAIL,cAAc,IAAIA,cAAc,CAACM,MAAM,GAAG,CAAC,EAAE;IAC/CH,MAAM,IAAI;AAChB,IAAIH,cAAc,CAACO,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,MAAM,IAAID,CAAC,CAAC,CAACE,IAAI,CAAC,IAAI,CAAC,EAAE;EACnD;;EAEA;EACA,IAAIT,QAAQ,IAAIA,QAAQ,CAACK,MAAM,GAAG,CAAC,EAAE;IACnCH,MAAM,IAAI;AAChB,IAAIF,QAAQ,CAACM,GAAG,CAACI,CAAC,IAAI,GAAGA,CAAC,CAACF,MAAM,KAAKE,CAAC,CAACC,IAAI,IAAI,KAAK,GAAG,CAAC,CAACF,IAAI,CAAC,IAAI,CAAC,EAAE;EAClE;;EAEA;EACA,IAAIX,MAAM,IAAIA,MAAM,KAAK,iBAAiB,EAAE;IAC1CI,MAAM,IAAI,8DACRJ,MAAM,KAAK,wBAAwB,GAAG,uBAAuB,GAC7DA,MAAM,KAAK,eAAe,GAAG,4CAA4C,GACzEA,MAAM,KAAK,SAAS,GAAG,+BAA+B,GACtDA,MAAM,KAAK,kBAAkB,GAAG,sBAAsB,GACtDA,MAAM,KAAK,aAAa,GAAG,4BAA4B,GACvD,qBAAqB,GACpB;EACL;EAEA,OAAOI,MAAM;AACf,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}